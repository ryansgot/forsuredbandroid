<migrations>
    <migration db_version="2" table_name="additional_data" migration_type="CREATE_TABLE" query="CREATE TABLE additional_data(_id INTEGER PRIMARY KEY, created DATETIME DEFAULT CURRENT_TIMESTAMP, deleted INTEGER DEFAULT 0, modified DATETIME DEFAULT CURRENT_TIMESTAMP);" />
    <migration db_version="2" table_name="additional_data" migration_type="CREATE_TABLE" query="CREATE TRIGGER additional_data_updated_trigger AFTER UPDATE ON additional_data BEGIN UPDATE additional_data SET modified=CURRENT_TIMESTAMP WHERE _id=NEW._id; END;" column="_id" column_type="long" is_last_in_set="true" />
    <migration db_version="2" table_name="additional_data" migration_type="ALTER_TABLE_ADD_COLUMN" query="ALTER TABLE additional_data ADD COLUMN long_column INTEGER;" column="long_column" column_type="long" is_last_in_set="true" />
    <migration db_version="2" table_name="additional_data" migration_type="ALTER_TABLE_ADD_COLUMN" query="ALTER TABLE additional_data ADD COLUMN int_column INTEGER;" column="int_column" column_type="int" is_last_in_set="true" />
    <migration db_version="2" table_name="additional_data" migration_type="ALTER_TABLE_ADD_COLUMN" query="ALTER TABLE additional_data ADD COLUMN string_column TEXT;" column="string_column" column_type="java.lang.String" is_last_in_set="true" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="DROP TABLE IF EXISTS temp_additional_data;" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="CREATE TEMP TABLE temp_additional_data AS SELECT _id, created, deleted, modified, int_column, long_column, string_column FROM additional_data;" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="DROP TABLE IF EXISTS additional_data;" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="CREATE TABLE additional_data(_id INTEGER PRIMARY KEY, created DATETIME DEFAULT CURRENT_TIMESTAMP, deleted INTEGER DEFAULT 0, modified DATETIME DEFAULT CURRENT_TIMESTAMP, profile_info_id INTEGER, FOREIGN KEY(profile_info_id) REFERENCES profile_info(_id) ON UPDATE CASCADE ON DELETE CASCADE);" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="CREATE TRIGGER additional_data_updated_trigger AFTER UPDATE ON additional_data BEGIN UPDATE additional_data SET modified=CURRENT_TIMESTAMP WHERE _id=NEW._id; END;" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="ALTER TABLE additional_data ADD COLUMN int_column INTEGER;" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="ALTER TABLE additional_data ADD COLUMN long_column INTEGER;" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="ALTER TABLE additional_data ADD COLUMN string_column TEXT;" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="INSERT INTO additional_data SELECT _id, created, deleted, modified, null AS profile_info_id, int_column, long_column, string_column FROM temp_additional_data;" />
    <migration db_version="2" table_name="additional_data" migration_type="ADD_FOREIGN_KEY_REFERENCE" query="DROP TABLE IF EXISTS temp_additional_data;" foreign_key_update_action="CASCADE" foreign_key_table="profile_info" foreign_key_delete_action="CASCADE" column="profile_info_id" column_type="long" foreign_key_column="_id" is_last_in_set="true" />
</migrations>